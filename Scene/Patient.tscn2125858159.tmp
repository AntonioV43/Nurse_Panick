[gd_scene load_steps=17 format=3 uid="uid://cigneymlaf4xu"]

[ext_resource type="Script" uid="uid://ofwl0y23ruxe" path="res://script/patient.gd" id="1_mhqvh"]
[ext_resource type="PackedScene" uid="uid://2h3eqwlmbwbg" path="res://assets/Animation/Ireng.glb" id="2_b6bir"]
[ext_resource type="AnimationLibrary" uid="uid://dh5pvrj463kc0" path="res://assets/Animation/Mendem.res" id="3_868md"]
[ext_resource type="Texture2D" uid="uid://broq4qg2tv1w2" path="res://assets/textures/Bar/BG.png" id="3_b71q8"]
[ext_resource type="Texture2D" uid="uid://6h6yokoceuls" path="res://assets/textures/Bar/S.png" id="4_868md"]
[ext_resource type="Script" uid="uid://brdwrh64kl711" path="res://script/Healthbar.gd" id="4_eiev2"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_w6wah"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_868md"]
animation = &"Mendem/Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cy3vu"]
animation = &"Mendem/Walk"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_868md"]
blend_point_0/node = SubResource("AnimationNodeAnimation_868md")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_cy3vu")
blend_point_1/pos = 1.0
min_space = 0.0
snap = 0.5
sync = true

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rr0fq"]
xfade_time = 0.5
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_868md"]
states/Movement/node = SubResource("AnimationNodeBlendSpace1D_868md")
states/Movement/position = Vector2(521.9302, 106)
states/Start/position = Vector2(200, 116)
transitions = ["Start", "Movement", SubResource("AnimationNodeStateMachineTransition_rr0fq")]
graph_offset = Vector2(-52.069824, 0)

[sub_resource type="ViewportTexture" id="ViewportTexture_eiev2"]
viewport_path = NodePath("HealthBar3D/HPViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b71q8"]
resource_local_to_scene = true
transparency = 1
shading_mode = 0
albedo_texture = SubResource("ViewportTexture_eiev2")

[sub_resource type="QuadMesh" id="QuadMesh_eiev2"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_b71q8")
size = Vector2(0.8, 0.1)

[sub_resource type="BoxShape3D" id="BoxShape3D_b71q8"]

[node name="Pasien" type="CharacterBody3D" node_paths=PackedStringArray("body_mesh") groups=["pasien"]]
script = ExtResource("1_mhqvh")
damage_per_second = 2
body_mesh = NodePath("Ireng/Armature/GeneralSkeleton/Ch28_Hoody")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_w6wah")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="Ireng" parent="." instance=ExtResource("2_b6bir")]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0, 0)

[node name="GeneralSkeleton" parent="Ireng/Armature" index="0"]
bones/0/position = Vector3(-0.027455118, 0.9388128, -0.056416065)
bones/0/rotation = Quaternion(0.060514335, 0.037683092, 0.0057989717, 0.99743897)
bones/1/rotation = Quaternion(0.13125478, 0.007604205, -0.0005070483, 0.9913194)
bones/2/rotation = Quaternion(0.029716209, 0.002015957, 0.004459576, 0.99954647)
bones/3/rotation = Quaternion(0.029698692, 0.0018540767, 0.0045232717, 0.99954695)
bones/4/rotation = Quaternion(0.033853304, -0.008227492, 0.00023334885, 0.999393)
bones/5/rotation = Quaternion(0.033872176, -0.008265494, 0.00028317704, 0.99939203)
bones/7/rotation = Quaternion(0.41251013, 0.51261276, 0.65416646, -0.37300125)
bones/8/rotation = Quaternion(0.34084624, 0.83648527, -0.42373532, 0.067563325)
bones/9/rotation = Quaternion(0.20640442, -0.67631143, 0.20640454, 0.67631155)
bones/10/rotation = Quaternion(0.048837535, 0.7851195, 0.007900706, 0.6173653)
bones/11/rotation = Quaternion(-0.26678368, 0.68482506, 0.23878013, 0.63468516)
bones/12/rotation = Quaternion(0.17317152, 0.1788473, 0.0007580509, 0.9685168)
bones/13/rotation = Quaternion(0.07380747, 0.00045046504, -0.13886479, 0.98755705)
bones/15/rotation = Quaternion(0.164399, -0.0090651205, 0.03920635, 0.9855728)
bones/16/rotation = Quaternion(0.14975914, -1.9778046e-08, -0.015346823, 0.9886035)
bones/17/rotation = Quaternion(0.05998416, 4.4703604e-08, -0.006147016, 0.99818045)
bones/19/rotation = Quaternion(0.27299437, -0.01010007, -0.030190296, 0.9614887)
bones/20/rotation = Quaternion(0.19240871, 4.1542883e-08, -0.01971747, 0.9811168)
bones/21/rotation = Quaternion(0.11450184, 1.4453538e-09, -0.011733845, 0.9933537)
bones/23/rotation = Quaternion(0.3624085, 0.012317739, -0.10520974, 0.92598027)
bones/24/rotation = Quaternion(0.18103875, 1.1469909e-08, -0.018552318, 0.98330104)
bones/25/rotation = Quaternion(0.17307337, -3.4408824e-08, -0.01773596, 0.9847493)
bones/27/rotation = Quaternion(0.37315533, 0.038306773, -0.1701496, 0.91122824)
bones/28/rotation = Quaternion(0.21869266, -7.279014e-08, -0.022411019, 0.9755364)
bones/29/rotation = Quaternion(0.25627685, 6.5932944e-08, -0.02626241, 0.9662466)
bones/31/rotation = Quaternion(0.4652309, -0.48430058, -0.63441706, -0.38278997)
bones/32/rotation = Quaternion(-0.17060523, 0.87981766, -0.44345665, -0.012688514)
bones/33/rotation = Quaternion(0.14499855, 0.69208056, -0.14499855, 0.69208056)
bones/34/rotation = Quaternion(0.19847174, -0.7590442, 0.010014787, 0.6199683)
bones/35/rotation = Quaternion(-0.26797283, -0.6464434, -0.2661168, 0.6629353)
bones/36/rotation = Quaternion(0.2501609, -0.18030675, -0.02107503, 0.9510336)
bones/37/rotation = Quaternion(0.1293714, 0.0126659265, 0.16266195, 0.9780817)
bones/39/rotation = Quaternion(0.22228336, 0.014936059, -0.015091049, 0.9747509)
bones/40/rotation = Quaternion(0.23814228, 7.45058e-08, 0.01939967, 0.97103655)
bones/41/rotation = Quaternion(0.12439841, -3.151821e-08, 0.010133768, 0.99218065)
bones/43/rotation = Quaternion(0.3329478, 0.014185191, 0.023444183, 0.9425471)
bones/44/rotation = Quaternion(0.25581282, 7.107448e-08, 0.020839207, 0.9665018)
bones/45/rotation = Quaternion(0.20595595, 3.1518184e-08, 0.016777629, 0.97841746)
bones/47/rotation = Quaternion(0.37643915, -0.004195666, 0.0768318, 0.9232404)
bones/48/rotation = Quaternion(0.27582207, -1.3411095e-07, 0.022469072, 0.9609461)
bones/49/rotation = Quaternion(0.24108516, -3.8110855e-08, 0.019639395, 0.97030526)
bones/51/rotation = Quaternion(0.42551106, -0.011999056, 0.117537685, 0.89720756)
bones/52/rotation = Quaternion(0.28830838, -5.9604815e-08, 0.023486376, 0.9572495)
bones/53/rotation = Quaternion(0.30074647, 5.1296155e-08, 0.02449955, 0.9533894)
bones/55/rotation = Quaternion(0.05107411, 0.23676059, 0.96930754, -0.042176314)
bones/56/rotation = Quaternion(-0.029108673, 0.9661905, -0.24557666, 0.07294378)
bones/57/rotation = Quaternion(-0.048586395, 0.6597581, -0.7489623, 0.037606597)
bones/58/rotation = Quaternion(-3.4866925e-08, 0.9947819, 0.10202451, 3.097156e-08)
bones/60/rotation = Quaternion(-0.0625023, 0.21376368, 0.97431266, 0.033370312)
bones/61/rotation = Quaternion(0.010846866, 0.9530443, -0.29275554, -0.07670223)
bones/62/rotation = Quaternion(-0.06117428, 0.60171807, -0.7879836, -0.115217626)
bones/63/rotation = Quaternion(4.0777827e-08, 0.99710625, 0.07602053, -1.4606394e-08)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Ireng"]
libraries = {
&"Mendem": ExtResource("3_868md")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Ireng")
tree_root = SubResource("AnimationNodeStateMachine_868md")
anim_player = NodePath("../Ireng/AnimationPlayer")
parameters/Movement/blend_position = -0.15074627

[node name="HPTimer" type="Timer" parent="."]

[node name="HealthBar3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.3, 0)

[node name="HPViewport" type="SubViewport" parent="HealthBar3D"]
transparent_bg = true
size = Vector2i(200, 40)

[node name="HealthBar" type="TextureProgressBar" parent="HealthBar3D/HPViewport"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
value = 50.0
nine_patch_stretch = true
texture_under = ExtResource("3_b71q8")
texture_progress = ExtResource("4_868md")
script = ExtResource("4_eiev2")

[node name="HealthBarMesh" type="MeshInstance3D" parent="HealthBar3D"]
mesh = SubResource("QuadMesh_eiev2")

[node name="Sensor_Ambil" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Sensor_Ambil"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
shape = SubResource("BoxShape3D_b71q8")

[connection signal="body_entered" from="Sensor_Ambil" to="." method="_on_sensor_ambil_body_entered"]
[connection signal="body_exited" from="Sensor_Ambil" to="." method="_on_sensor_ambil_body_exited"]

[editable path="Ireng"]
